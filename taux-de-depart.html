<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Graphique en Barres Horizontales</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/apexcharts/3.27.3/apexcharts.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/apexcharts/3.27.3/apexcharts.min.js"></script>
    <style>
        #chart {
            max-width: 1000px;  /* Réduisez la largeur du graphique */
            margin: 0 auto;
        }
    </style>
</head>
<body>
    <div id="chart"></div>

    <script>
        var options = {
            chart: {
                type: 'bar',
                height: 600,
                toolbar: {
                    show: false
                }
            },
            plotOptions: {
                bar: {
                    horizontal: true,
                    dataLabels: {
                        position: 'top',
                    }
                }
            },
            dataLabels: {
                enabled: true,
                offsetX: 30,  // Position the data labels outside the bars
                style: {
                    fontSize: '12px',
                    colors: ['#000']
                },
                formatter: function(val) {
                  return val + '%';
              }
            },
            series: [{
                data: [
                    { x: 'Cadre et profession intellectuelle', y: 20 },
                    { x: 'Hauts revenus', y: 17 },
                    { x: 'Etudiants', y: 15 },
                    { x: 'Diplômé du supérieur', y: 15 },
                    { x: 'Foyer de quatre personnes', y: 14 },
                    { x: 'Moins de 25 ans', y: 14 },
                    { x: 'Agglomération parisienne', y: 14 },
                    { x: 'Un homme', y: 11 },
                    { x: 'Ensemble', y: 9 },
                    { x: 'Une femme', y: 7 },
                    { x: 'Foyer d\'une personne', y: 7 },
                    { x: 'Inactif', y: 7 },
                    { x: 'Classes moyennes inférieures', y: 7 },
                    { x: 'BEPC', y: 6 },
                    { x: 'Bas revenus', y: 6 },
                    { x: 'Retraité', y: 6 }
                ]
            }],
            xaxis: {
                max: 30,  // Set the maximum value of x-axis to 50
                title: {
                    text: 'Taux (%)'
                },
                // step 5
                tickAmount: 6
            },
            yaxis: {
                labels: {
                    style: {
                        fontSize: '14px'  // Increase the font size of y-axis labels
                    },
                    maxWidth: 300,  // Ensure labels are fully visible
                },
                title: {
                    text: 'Catégories'
                }
            },
            title: {
                text: 'Taux de départ en vacances (au moins 4 nuits consécutives à la montagne à l’hiver 2022-2023)',
                align: 'center'
            }
        };

        var chart = new ApexCharts(document.querySelector("#chart"), options);
        chart.render();
    </script>
</body>
</html>
